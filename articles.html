<style>

    :root {
        --cafelatte: #e8e0ce;
        --creme:#FFFBF4;
    }
  #content {
    height: auto;
    width: 100vw;
    overflow-x: hidden;
    padding: 0;
    margin: 0;
  }
  #sec_1 {
    height: 350px;
    background-color: var(--cafelatte)
  }

  .hero-text {
    width: 650px;
  }

  #sec_3 {
      background-color: var(--creme)
  }
</style>
<!-- Bootstrap CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
  crossorigin="anonymous"
/>
<section id="content">
  <section id="sec_1" class="d-flex justify-content-center align-items-center">
    <div id="hero">
      <div class="container-fluid">
        <div class="row">
          <div class="col">
            <h1 class="headline text-center">Articles</h1>
            <p class="hero-text text-center">
              Lorem ipsum, dolor sit amet consectetur adipisicing elit.
              Eligendi, id provident. Inventore aut blanditiis velit distinctio
              necessitatibus ea earum libero!
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="sec_2">
      <div>
        <nav id="filter"></nav>
    </div>
    <div id="blog-post-oversigt">
    </div>
      </div>
    <template>
      <article class="blog-post">
        <img src="" alt="" class="image" />
        <div class="info">
          <h3 class="headline"></h3>
          <p class="paragraph"></p>
          <button>Read more</button>
        </div>
      </article>
    </template>
  </section>
  <section id="sec_3">
    <div id="highlight" class="container-fluid">
        <div class="row">
            <div id="col-1" class="col-6 d-flex flex-column p-5">
                <h2>Shop our skincare</h2>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente iste quisquam voluptatum tempore rem placeat rerum aspernatur nesciunt magni quas fuga neque inventore, repellat ipsam dolorum incidunt distinctio. Ipsam, sequi!</p>
       <button class="align-self-start">Discover shop</button>     
              </div>
            <div id="col-2" class="col-6">
            </div>
        </div>
    </div>
  </section>
</section>

<script>
    //Variabler//
    let blog-post;
    let categories;
    let filterBlog-post = "alle";
    let mySingle = document.querySelector("#singleView");

    mySingle.classList.add("forsvind");

    const url = "https://nicolinechristiansen.dk/kea/tantelola/wordpress/wp-json/wp/v2/kreaprojekt?per_page=100";
    const catUrl = "https://nicolinechristiansen.dk/kea/tantelola/wordpress/wp-json/wp/v2/categories";


    //Henter content fra Pods & opretter knapper //
    async function getJson() {
        let data = await fetch(url);
        let catdata = await fetch(catUrl);
        kreaprojekter = await data.json();
        categories = await catdata.json();
        console.log(categories);
        visKreaprojekter();
        console.log("Nu viser jeg kreaprojekter");
        opretKnapper();
        console.log("Nu opretter jeg knapper");
    }

    // Funktion der opretter kategori knapper i html //
    function opretKnapper() {
        categories.forEach(cat => {
            document.querySelector("#filtrering").innerHTML += `<button class="filter" data-kreaprojekt="${cat.id}">${cat.name}</button>`
        })

        addEventListenerToButtons();

    }

    //Tilføjer eventlistener til knapperne, som gør at kreaprojekterne bliver filtreret efter kategori //
    function addEventListenerToButtons() {
        document.querySelectorAll("#filtrering button").forEach(elm => {
            elm.addEventListener("click", filtrering);
        })
    }

    function filtrering() {
        filterKreaprojekt = this.dataset.kreaprojekt;
        console.log(filterKreaprojekt);

        visKreaprojekter();

    }


    //Funktion som placere information fra pods i de respektive tags som er tilføjet til oversigten //

    function visKreaprojekter() {

        console.log(kreaprojekter);
        let temp = document.querySelector("template");
        let container = document.querySelector("#kreaprojekt-oversigt");
        container.innerHTML = "";
        kreaprojekter.forEach(kreaprojekt => {
            if (filterKreaprojekt == "alle" || kreaprojekt.categories.includes(parseInt(filterKreaprojekt))) {
                let klon = temp.cloneNode(true).content;
                klon.querySelector(".navn").textContent = kreaprojekt.title.rendered;
                //klon.querySelector(".pris").textContent = kreaprojekt.pris;//
                klon.querySelector(".billede").src = kreaprojekt.billede.guid;
                //klon.querySelector(".info_knap").addEventListener("click", () => { location.href = kreaprojekt.link;})
                klon.querySelector(".kreaprojekt").addEventListener("click", () => {
                    visSingle(kreaprojekt);
                })
                container.appendChild(klon);
            }

        })
    }

    //Funktion der skal vise specifik info omkring et kreaprojekt
    function visSingle(valgte) {
        mySingle.classList.remove("forsvind");
        mySingle.classList.add("vis");
        console.log("Nu kan du se mig");
        mySingle.querySelector(".single-knap").addEventListener("click", lukSingle);
        mySingle.querySelector(".single-navn").textContent = valgte.title.rendered;
        mySingle.querySelector(".single-billede").src = valgte.billede.guid;
        mySingle.querySelector(".single-beskrivelse").innerHTML = valgte.beskrivelse;
        mySingle.querySelector(".single-pris").textContent = valgte.pris;
        console.log("Jeg viser single view");
    }

    //Funktion som lukker den specifikke info om kreaprojekt
    function lukSingle() {
        mySingle.classList.remove("vis");
        mySingle.classList.add("forsvind");
        console.log("Jeg lukker single view");

    }

    getJson();

</script>

<!-- Option 1: Bootstrap Bundle with Popper -->
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
  crossorigin="anonymous"
></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollTrigger.min.js"></script>
